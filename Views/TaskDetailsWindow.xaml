<Window x:Class="TaskMate.Views.TaskDetailsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding Title, FallbackValue=Task Details}"
        SizeToContent="WidthAndHeight"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="{DynamicResource WindowBackgroundBrush}"
        MinWidth="420">
    <Window.Resources>
        <!-- Generic white card -->
                <Style x:Key="Card"
                       TargetType="Border">
                        <Setter Property="Background"
                                Value="{DynamicResource CardBackgroundBrush}"/>
                        <Setter Property="CornerRadius"
                                Value="10"/>
                        <Setter Property="Padding"
                                Value="12"/>
                        <Setter Property="Margin"
                                Value="0,0,0,10"/>
                        <Setter Property="BorderBrush"
                                Value="{DynamicResource CardBorderBrush}"/>
                        <Setter Property="BorderThickness"
                                Value="1"/>
                        <Setter Property="Effect">
                                <Setter.Value>
                                        <DropShadowEffect BlurRadius="10"
                                                          ShadowDepth="2"
                                                          Opacity="0.15"/>
                                </Setter.Value>
                        </Setter>
                </Style>
                </Window.Resources>
    
    
    <Border Style="{StaticResource Card}">
        <StackPanel>

            <TextBlock Text="{Binding Item.Title}" FontSize="20" FontWeight="Bold" Margin="0,0,0,8"
                       TextWrapping="Wrap" />

            <Grid Margin="0,0,0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="120"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" Text="Assigned To:" Opacity="0.8"/>
                <TextBlock Grid.Column="1" Text="{Binding Item.AssignedTo}"/>

                <TextBlock Grid.Row="1" Grid.Column="0" Text="Category:" Opacity="0.8" Margin="0,6,0,0"/>
                <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Item.Category}" Margin="0,6,0,0"/>

                <TextBlock Grid.Row="2" Grid.Column="0" Text="Due:" Opacity="0.8" Margin="0,6,0,0"/>
                <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Item.DueDate, StringFormat={}{0:dddd, MMM d, yyyy}}" Margin="0,6,0,0"/>

                <TextBlock Grid.Row="3" Grid.Column="0" Text="Status:" Opacity="0.8" Margin="0,6,0,0"/>
                <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding Item.IsCompleted, ConverterCulture=en-US}" Margin="0,6,0,0"/>

                <TextBlock Grid.Row="4" Grid.Column="0" Text="Completed:" Opacity="0.8" Margin="0,6,0,0"/>
                <TextBlock Grid.Row="4" Grid.Column="1" Text="{Binding Item.CompletedAt, StringFormat={}{0:G}}" Margin="0,6,0,0"/>
            </Grid>

            <GroupBox Header="Description" Margin="0,6,0,0">
                <ScrollViewer Height="120" VerticalScrollBarVisibility="Auto">
                    <TextBlock Text="{Binding Item.Description}" TextWrapping="Wrap" Margin="4"/>
                </ScrollViewer>
            </GroupBox>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
                <Button Content="Close" Width="90" IsCancel="True"/>
            </StackPanel>

        </StackPanel>
    </Border>
</Window>